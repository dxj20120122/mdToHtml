<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown to HTML 组件</title>
    <link rel="stylesheet" href="styles.css">
    <script src="md-to-html.js"></script>
    <script>
        function insertTemplate(type) {
            const editor = document.getElementById('markdown-editor');
            const basicTemplate = `## 基础Markdown示例

### 文本格式
**粗体** *斜体* ~~删除线~~

### 列表
- 项目1
- 项目2
  - 子项目

### 链接和图片
[链接文本](https://example.com)
![图片描述](https://via.placeholder.com/150)
`;

            const advancedTemplate = `## 高级Markdown示例

### 代码块
\`\`\`javascript
function example() {
    return "Hello World!";
}
\`\`\`

### 表格
| 列1 | 列2 |
|-----|------|
| 内容1 | 内容2 |

### 任务列表
- [x] 已完成
- [ ] 待办

### 引用
> 引用文本
>> 嵌套引用
`;

            editor.value = type === 'basic' ? basicTemplate : advancedTemplate;
            updatePreview();
        }

        function clearEditor() {
            const editor = document.getElementById('markdown-editor');
            editor.value = '';
            updatePreview();
        }

        function togglePreview() {
            const container = document.getElementById('preview-container');
            container.classList.toggle('fullscreen');
        }

        function updatePreview() {
            const editor = document.getElementById('markdown-editor');
            const preview = document.getElementById('preview');
            preview.setAttribute('content', editor.value);
        }

        // 初始化预览
        document.addEventListener('DOMContentLoaded', () => {
            const editor = document.getElementById('markdown-editor');
            editor.addEventListener('input', updatePreview);
            updatePreview();
        });
    </script>
</head>

<body>
    <nav class="navbar">
        <div class="navbar-container">
            <a href="#" class="logo">Markdown to HTML</a>
            <div class="nav-links">
                <a href="#features">特性</a>
                <a href="#demo">演示</a>
                <a href="#usage">使用教程</a>
                <a href="https://github.com/dxj20120122/mdToHtml" target="_blank">GitHub</a>
            </div>
        </div>
    </nav>

    <section class="hero">
        <h1>Markdown to HTML 转换组件</h1>
        <p>一个轻量级的Web组件，让您轻松实现Markdown到HTML的实时转换</p>
    </section>

    <section id="features" class="section">
        <div class="section-container">
            <h2>特性介绍</h2>
            <div class="features">
                <div class="feature-card">
                    <h3>完整的Markdown支持</h3>
                    <p>支持标题、列表、链接、图片、代码块等常用Markdown语法</p>
                </div>
                <div class="feature-card">
                    <h3>实时预览</h3>
                    <p>输入即时转换，所见即所得的编辑体验</p>
                </div>
                <div class="feature-card">
                    <h3>Web Component</h3>
                    <p>以Web Component形式提供，易于集成到任何网页中</p>
                </div>
                <div class="feature-card">
                    <h3>轻量级</h3>
                    <p>无需依赖，体积小巧，加载迅速</p>
                </div>
            </div>
        </div>
    </section>

    <section id="demo" class="section">
        <div class="section-container">
            <h2>在线演示</h2>
            <div class="demo-container">
                <div class="editor">
                    <div class="editor-toolbar">
                        <button class="toolbar-btn" onclick="insertTemplate('basic')">基础模板</button>
                        <button class="toolbar-btn" onclick="insertTemplate('advanced')">高级示例</button>
                        <button class="toolbar-btn" onclick="clearEditor()">清空</button>
                    </div>
                    <textarea class="md-to-html" id="markdown-editor" placeholder="在这里输入Markdown文本..."># Markdown to HTML 转换组件

这是一个轻量级的Markdown转HTML组件，可以将Markdown文本实时转换为HTML。该组件支持大多数常用的Markdown语法，并且可以作为Web Component使用。

## 特性

- 支持基本的Markdown语法（标题、列表、链接、图片等）
- 支持代码块高亮
- 支持表格
- 支持任务列表
- 实时预览
- 可作为Web Component使用
- 轻量级，无需额外依赖
- 易于集成到任何网页中

## Markdown语法支持

### 1. 标题
# 一级标题
## 二级标题
### 三级标题
#### 四级标题
##### 五级标题
###### 六级标题

### 2. 文本格式化
**粗体文本**
*斜体文本*
***粗斜体文本***
~~删除线文本~~
`行内代码`

### 3. 列表
- 无序列表项
  - 子列表项
  - 子列表项

1. 有序列表项
2. 有序列表项
   1. 子列表项
   2. 子列表项

- [x] 已完成任务
- [ ] 待完成任务

### 4. 链接和图片
[链接文本](https://example.com)
![图片描述](https://via.placeholder.com/150)

### 5. 代码块
```javascript
function example() {
    return "Hello World!";
}
```

### 6. 表格
| 列1 | 列2 |
|-----|------|
| 内容1 | 内容2 |

### 7. 引用
> 引用文本
>> 嵌套引用</textarea>
                </div>
                <div class="preview" id="preview-container">
                    <div class="preview-header">
                        <h3>实时预览</h3>
                        <div class="preview-controls">
                            <button class="preview-btn" onclick="togglePreview()">切换视图</button>
                        </div>
                    </div>
                    <div class="preview-content">
                        <md-to-html id="preview"></md-to-html>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="usage" class="section">
        <div class="section-container">
            <h2>使用教程</h2>

            <div class="usage-examples">
                <h3>1. 基本使用</h3>
                <p>组件提供了多种初始化方式，选择最适合你的方式：</p>

                <div class="code-block">
                    <pre><code>&lt;!-- 使用content属性 --&gt;
&lt;md-to-html content="# Hello World"&gt;&lt;/md-to-html&gt;

&lt;!-- 使用markdown或md属性 --&gt;
&lt;md-to-html markdown="# Hello World"&gt;&lt;/md-to-html&gt;
&lt;md-to-html md="# Hello World"&gt;&lt;/md-to-html&gt;

&lt;!-- 使用innerHTML方式 --&gt;
&lt;md-to-html&gt;
    # Hello World
&lt;/md-to-html&gt;</code></pre>
                </div>

                <h3>2. 实时预览功能</h3>
                <p>创建一个实时预览的Markdown编辑器：</p>

                <div class="code-block">
                    <pre><code>&lt;textarea id="editor" placeholder="输入Markdown文本..."&gt;&lt;/textarea&gt;
&lt;md-to-html id="preview"&gt;&lt;/md-to-html&gt;

&lt;script&gt;
    const editor = document.getElementById('editor');
    const preview = document.getElementById('preview');

    editor.addEventListener('input', () => {
        preview.setAttribute('content', editor.value);
    });
&lt;/script&gt;</code></pre>
                </div>

                <h3>3. JavaScript API</h3>
                <p>组件提供了丰富的API接口：</p>

                <div class="code-block">
                    <pre><code>const md = document.getElementById('markdown');

// 设置Markdown内容
md.setContent('# Hello World');
md.setMarkdown('# Hello World');  // 同上
md.render('# Hello World');        // 同上

// 获取HTML内容
const html = md.getHTML();

// 监听渲染完成事件
md.addEventListener('rendered', (event) => {
    console.log('Markdown已渲染完成');
});</code></pre>
                </div>

                <h3>4. 自定义样式</h3>
                <p>你可以通过CSS自定义组件的样式：</p>

                <div class="code-block">
                    <pre><code>md-to-html {
    /* 自定义容器样式 */
    display: block;
    padding: 1rem;
}

md-to-html h1 {
    /* 自定义标题样式 */
    color: #2c3e50;
    border-bottom: 2px solid #eee;
}

md-to-html pre {
    /* 自定义代码块样式 */
    background: #f8f9fa;
    padding: 1rem;
    border-radius: 4px;
}</code></pre>
                </div>

                <h3>5. 最佳实践</h3>
                <p>以下是一些使用组件的最佳实践：</p>

                <div class="code-block">
                    <pre><code>// 1. 动态加载内容
async function loadMarkdown() {
    const response = await fetch('content.md');
    const markdown = await response.text();
    document.querySelector('md-to-html').setContent(markdown);
}

// 2. 与表单集成
&lt;form onsubmit="handleSubmit(event)"&gt;
    &lt;textarea id="editor" required&gt;&lt;/textarea&gt;
    &lt;md-to-html id="preview"&gt;&lt;/md-to-html&gt;
    &lt;button type="submit"&gt;提交&lt;/button&gt;
&lt;/form&gt;</code></pre>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-container">
            <p>© 2025 Markdown to HTML 组件. MIT License.</p>
        </div>
    </footer>
</body>

</html>